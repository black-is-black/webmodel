<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>用户分布情况</title>
    <link rel="stylesheet" href="css/pagination.css">
    <link rel="stylesheet" href="css/home.css">
    <!--<link rel="stylesheet" href="css/history.css">-->
    <link rel="stylesheet" href="css/user-map.css">
    <link rel="stylesheet" href="css/nuser-vps.css"/>

</head>
<body>
<div class="index">
    <!--头部-->
    <div class="head">
        <b></b>
        <ul>
            <li class="user">
                <a href=""><img src="img/user.jpg" alt="" id="userImage"/>小茗</a>
            </li>
            <li class="set">
                <b></b>
                <a href="">个人设置</a>
            </li>
            <li class="quit">
                <b></b>
                <a href="">退出</a>
            </li>
            <li class="back">
                <!--<a href="#">返回</a>-->
                <input type="button" value="返回">
            </li>
        </ul>
    </div>
    <!--主体-->
    <div class="content">
        <div class="vps-left left">
            <ul class="tabs">

                <a href="user-map.html"><li>用户分布情况</li></a>
                <li class="selected">资源使用状态</li>

            </ul>
            <b></b>
        </div>

        <div class="vps-right">
                <i class="picture_1"></i>
                <i class="picture_2"></i>
                <i class="picture_3"></i>
                <i class="picture_4"></i>
            <table id="tab"><!--cellpadding="0" cellspacing="0"-->
                <thead>
                <tr>
                    <th class="pointer">项目名称</th>
                    <th class="pointer">VPS数量</th>
                    <th class="pointer">正在运行的VPS数量</th>
                    <th class="pointer"></th>

                </tr>
                </thead>
                <tbody>
                <tr class="color_1">
                    <td class="td">大数量项目A1-000</td>
                    <td>10000</td>
                    <td>2000000</td>
                    <td>
                        <div id="figure1" class="pie"></div>
                        <div id="figure2" class="pie"></div>
                        <div id="figure3" class="pie"></div>


                    </td>

                </tr>
                <tr class="color_2">
                    <td>大数量项目A1-000</td>
                    <td>10000</td>
                    <td>2000000</td>
                    <td>
                        <div id="figure4" class="pie"></div>
                        <div id="figure5" class="pie"></div>
                        <div id="figure6" class="pie"></div>

                    </td>

                </tr>
                <tr class="color_1">
                    <td>大数量项目A1-000</td>
                    <td>10000</td>
                    <td>2000000</td>
                    <td>
                        <div id="figure7" class="pie"></div>
                        <div id="figure8" class="pie"></div>
                        <div id="figure9" class="pie"></div>

                    </td>

                </tr>
                <tr class="color_2">
                    <td>大数量项目A1-000</td>
                    <td>10000</td>
                    <td>2000000</td>
                    <td>
                        <div id="figure10" class="pie"></div>
                        <div id="figure11" class="pie"></div>
                        <div id="figure12" class="pie"></div>

                    </td>

                </tr>
                <tr class="color_1">
                    <td>大数量项目A1-000</td>
                    <td>10000</td>
                    <td>2000000</td>
                    <td>
                        <div id="figure13" class="pie"></div>
                        <div id="figure14" class="pie"></div>
                        <div id="figure15" class="pie"></div>
                    </td>

                </tr>

                </tbody>
            </table>
            <div class="vps-but color_2">

            </div >
            <!--<div class="vps-buttom color_1 ">-->
                <!--<div class="vps-c">-->
                    <!--<span class="font_c">上一页</span>-->

                        <!--<span class="number">1</span>-->

                        <!--<span class="number">2</span>-->
                        <!--<span class="number_color">3</span>-->


                    <!--<span class="font_color">下一页</span>-->
                <!--</div>-->
            <!--</div>-->
            <div class="vps-buttom color_1 ">
                <div  id="Pagination" class="pagination_vps color_1"></div>
            </div>


        </div>


    </div>
</div>
</div>
</body>


</html>

<script src="js/jquery-1.11.1.min.js"></script>
<script src="js/jquery.pagination.js"></script>

<script src="js/jquery.eventFlow.js"></script>
<script src="js/echarts.js"></script>
<script>
    /*时间轴*/
    $(function () {
        var bigEvent = [{
            'year': 2017,
            'events': [
                {
                    'mouths': 2,
                    'times': '2017年2月29',
                    'even': '韦小宝注册了聚测平台'
                }, {
                    'mouths': 4,
                    'times': '2017年4月3',
                    'even': '韦小宝接手项目12'
                }, {
                    'mouths': 10,
                    'times': '2017年10月11日',
                    'even': '韦小宝完成项目12'
                }]
        }, {
            'year': 2016,
            'events': [
                {
                    'mouths': 1,
                    'times': '2016年1月18',
                    'even': '韦小宝修复了3个漏洞'
                }, {
                    'mouths': 5,
                    'times': '2016年5月15',
                    'even': '韦小宝参与了项目35'
                }
                , {
                    'mouths': 11,
                    'times': '2016年11月15',
                    'even': '韦小宝完成了项目35'
                }
            ]
        }, {
            'year': 2017,
            'events': [
                {
                    'mouths': 5,
                    'times': '2015年5月18',
                    'even': '韦小宝修复了3个漏洞'
                },
                {
                    'mouths': 12,
                    'times': '2015年12月18',
                    'even': '韦小宝修复了3个漏洞'
                }
            ]
        }];
        $('.event_wrap').eventFlow({'events': bigEvent});
    })

    /*分页*/
    var pageSize = 6;     //每页显示多少条记录
    var total;           //总共多少记录
    $(function () {
        Init(0); //注意参数，初始页面默认传到后台的参数，第一页是0;
        $("#Pagination").pagination(total, {   //total不能少
            callback: PageCallback,
            prev_text: '上一页',
            next_text: '下一页',
            items_per_page: pageSize,
            num_display_entries: 4,        //连续分页主体部分显示的分页条目数
            num_edge_entries: 1,           //两侧显示的首尾分页的条目数
        });
        function PageCallback(index, jq) {     //前一个表示您当前点击的那个分页的页数索引值，后一个参数表示装载容器。
            Init(index);
        }
    });

    function Init(pageIndex) {      //这个参数就是点击的那个分页的页数索引值，第一页为0，上面提到了，下面这部分就是AJAX传值了。

    }
    ;

    /*tab标签切换*/
    $('.tabs li').click(function () {
        var i = $(this).index();
        $(this).addClass('selected').siblings().removeClass('selected');
        $('.right .item').eq(i).show().siblings().hide();
    })
    //点击展开收缩
    $(".vps-left>b").click(function () {
        if ($(this).hasClass('out')) {
            $(".tabs").show();
            $(this).removeClass("out");
            $('.vps-right').css({width: '1517px', marginLeft:"20px"});
            $('.pie').css('width', '266px');
            $('tr td:nth-child(4)').css('width', '804px');
//
        } else {
            $(".tabs").hide();
            $(this).addClass("out");
            $('.vps-right').css({width: '1767px', marginLeft:"60px"});
            $('.pie').css('width', '326px');
            $('tr td:nth-child(4)').css('width', '990px');
//
        }
//        if ($(this).hasClass()) {
//
//            $(".tabs").hide();
//            $(this).addClass("out");
//            $('.vps-right').css({width: '1767px', marginLeft:"60px"});
//            $('.pie').css('width', '326px');
//            $('tr td:nth-child(4)').css('width', '990px');
////
//
//
////
//        } else {
//            $(".tabs").show();
//            $(this).removeClass("out");
//            $('.vps-right').css({width: '1767px', marginLeft:"0px"});
//            $('.pie').css('width', '266px');
//            $('tr td:nth-child(4)').css('width', '804px');
//        }
    });
    /*去掉火狐全屏出现的滚动条*/
    BrowserType();
    //判断当前浏览类型
    function BrowserType() {
        var userAgent = navigator.userAgent; //取得浏览器的userAgent字符串
        var isFF = userAgent.indexOf("Firefox") > -1; //判断是否Firefox浏览器
        //var isChrome = userAgent.indexOf("Chrome") > -1 && userAgent.indexOf("Safari") > -1; //判断Chrome浏览器

        if (isFF) {
            var times = true;
            window.document.onkeydown = disableRefresh;
            function disableRefresh(evt) {
                evt = (evt) ? evt : window.event;

                if (evt.keyCode) {
                    if (evt.keyCode == 122) {
                        times = !times
                        if (times) {
                            $("body").eq(0).css('overflow', 'auto');
                        } else {
                            /*取消滚动条*/
                            $("body").eq(0).css('overflow', 'hidden');
                        }
                    }
                }
            }
        }
    }
    ////图表展示



    function newFigure(mainf) {
        var mainf = echarts.init(document.getElementById(mainf));
        optiond = {

//            title : {
//                text: '南丁格尔玫瑰图',
//                subtext: '纯属虚构',
//                x:'center'
//            },
            tooltip: {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)"
            },
            calculable: true,
            series: [

                {
                    name: '内存',
                    type: 'pie',
                    radius: [20,60],
                    center: ['50%', '50%'],
                    roseType: 'area',
                    data: [
                        {value: 40, name: '已使用'},

                        {value: 60, name: '未使用'}


                    ],
                    labelLine: {//标签连接的线条
                        normal: {//默认状态
                            smooth: 0.1,//线条的笔直程度
                            length: 2,//线条上一节的长度
                            length2: 10//线条下一节的长度
                        }
                    },
                },


            ]
        };


        mainf.setOption(optiond);

    }

    function figure(mainf) {
        var mainf = echarts.init(document.getElementById(mainf));
        optiond = {

//            title : {
//                text: '南丁格尔玫瑰图',
//                subtext: '纯属虚构',
//                x:'center'
//            },
            tooltip: {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)"
            },
            calculable: true,
            series: [

                {
                    name: '数据',
                    type: 'pie',
                    radius: [20,60],
                    center: ['50%', '50%'],
                    roseType: 'area',
                    data: [

                        {value: 20, name: '数据漏洞1'},
                        {value: 30, name: '数据漏洞2'},
                        {value: 50, name: '数据漏洞3'}
                    ],
                    labelLine: {//标签连接的线条
                        normal: {//默认状态
                            smooth: 0.1,//线条的笔直程度
                            length: 2,//线条上一节的长度
                            length2: 18//线条下一节的长度
                        }
                    },
                },


            ]
        };


        mainf.setOption(optiond);

    }

    newFigure("figure1");
        figure("figure2");
        figure("figure3");
    newFigure("figure4");
        figure("figure5");
        figure("figure6");
    newFigure("figure7");
        figure("figure8");
        figure("figure9");
    newFigure("figure10");
        figure("figure11");
        figure("figure12");
    newFigure("figure13");
        figure("figure14");
        figure("figure15");


</script>
